name: PullStravaData
on:
  # Nightly cron job
  #schedule:
  #  - cron: 25 17 * * 0-6
  # Allows to be run manually from the Actions tab
  workflow_dispatch:

jobs:
  refresh-feed:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v3
      - name: Fetch Data through Strava API
        run: ./scripts/PullStravaData.py
        with:
          CONFIGURATION: '{ "method": "POST", "body": {"client_id": "${{ secrets.STRAVA_client_id }}", "client_secret": "${{ secrets.STRAVA_client_secret }}"} }'
